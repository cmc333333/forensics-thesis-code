<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Tar</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Tar</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#"><span class="id" type="library">Coq.Lists.List</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#"><span class="id" type="library">Coq.Strings.Ascii</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#"><span class="id" type="library">Coq.Strings.String</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.ZArith.ZArith.html#"><span class="id" type="library">Coq.ZArith.ZArith</span></a>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Byte.html#"><span class="id" type="library">Byte</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="ByteData.html#"><span class="id" type="library">ByteData</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="DiskSubset.html#"><span class="id" type="library">DiskSubset</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Fetch.html#"><span class="id" type="library">Fetch</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="File.html#"><span class="id" type="library">File</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="FileData.html#"><span class="id" type="library">FileData</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="FileIds.html#"><span class="id" type="library">FileIds</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="FileNames.html#"><span class="id" type="library">FileNames</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="StringOps.html#"><span class="id" type="library">StringOps</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Util.html#"><span class="id" type="library">Util</span></a>.<br/>

<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">bool</span>.<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">N</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="fromOctalAscii"><span class="id" type="definition">fromOctalAscii</span></a> (<span class="id" type="var">bytes</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="Byte.html#Byte"><span class="id" type="definition">Byte</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#Exc"><span class="id" type="definition">Exc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Tar.html#bytes"><span class="id" type="variable">bytes</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> 0<br/>
&nbsp;&nbsp;| <span class="id" type="var">byte</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">tl</span> =&gt; <span class="id" type="keyword">match</span> (<a class="idref" href="Tar.html#fromOctalAscii"><span class="id" type="definition">fromOctalAscii</span></a> <span class="id" type="var">tl</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#error"><span class="id" type="definition">error</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#error"><span class="id" type="definition">error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">rest</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">byte</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#N_of_ascii"><span class="id" type="definition">Ascii.N_of_ascii</span></a> <span class="id" type="var">byte</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (48 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <a class="idref" href="Tar.html#byte"><span class="id" type="variable">byte</span></a>) (<a class="idref" href="Tar.html#byte"><span class="id" type="variable">byte</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> 56))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> (<span class="id" type="var">rest</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#byte"><span class="id" type="variable">byte</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'-'_x"><span class="id" type="notation">-</span></a> 48<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">)</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">(</span></a>8 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'^'_x"><span class="id" type="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'^'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.of_nat"><span class="id" type="definition">N.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#length"><span class="id" type="abbreviation">List.length</span></a> <span class="id" type="var">tl</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'^'_x"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#error"><span class="id" type="definition">error</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseFileName"><span class="id" type="definition">parseFileName</span></a> (<span class="id" type="var">tar</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>): @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect"><span class="id" type="definition">N.peano_rect</span></a><br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> (<span class="id" type="var">_</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) =&gt; <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#EmptyString"><span class="id" type="constructor">EmptyString</span></a>) <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> (<span class="id" type="var">prev</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">rec</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) (<span class="id" type="var">idx</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Tar.html#idx"><span class="id" type="variable">idx</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <span class="id" type="var">byte</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> (<a class="idref" href="StringOps.html#ascii_eqb"><span class="id" type="definition">ascii_eqb</span></a> <span class="id" type="var">byte</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#EmptyString"><span class="id" type="constructor">EmptyString</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <span class="id" type="keyword">match</span> (<a class="idref" href="Tar.html#rec"><span class="id" type="variable">rec</span></a> (<a class="idref" href="Tar.html#idx"><span class="id" type="variable">idx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <span class="id" type="var">rest</span> =&gt; <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#String"><span class="id" type="constructor">String</span></a> <span class="id" type="var">byte</span> <span class="id" type="var">rest</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;100 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileName_subset"><span class="id" type="lemma">parseFileName_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">tar</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileName"><span class="id" type="definition">parseFileName</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileName"><span class="id" type="definition">parseFileName</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileName"><span class="id" type="definition">parseFileName</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_ind"><span class="id" type="definition">N.peano_ind</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := 100).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">H</span> <span class="id" type="var">m</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">tar</span> <span class="id" type="var">offset</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">tar</span> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <span class="id" type="var">offset</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">m</span> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <span class="id" type="var">sub</span> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a>) <span class="id" type="var">eqn</span>:<span class="id" type="var">TarAt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#fetchByte_subset"><span class="id" type="lemma">fetchByte_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">TarAt</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">TarAt</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="StringOps.html#ascii_eqb"><span class="id" type="definition">ascii_eqb</span></a> <span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">zero</span></a>) <span class="id" type="var">eqn</span>:<span class="id" type="var">IsZero</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">_</span>: <span class="id" type="keyword">match</span> ?<span class="id" type="var">peano</span> <span class="id" type="keyword">with</span> <span class="id" type="var">_</span> =&gt; <span class="id" type="var">_</span> <span class="id" type="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">peano</span> <span class="id" type="var">eqn</span>:<span class="id" type="var">Hpeano</span>; [| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>]<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">Hpeano</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hpeano</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileName_fsubset"><span class="id" type="lemma">parseFileName_fsubset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">f</span></a><a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileName"><span class="id" type="definition">parseFileName</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileName"><span class="id" type="definition">parseFileName</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileName"><span class="id" type="definition">parseFileName</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_ind"><span class="id" type="definition">N.peano_ind</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := 100).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">H</span> <span class="id" type="var">m</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">disk</span> <span class="id" type="var">offset</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">sub</span> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <span class="id" type="var">offset</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">m</span> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <span class="id" type="var">disk</span> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a>) <span class="id" type="var">eqn</span>:<span class="id" type="var">TarAt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#fetchByte_fsubset"><span class="id" type="lemma">fetchByte_fsubset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">TarAt</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">TarAt</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="StringOps.html#ascii_eqb"><span class="id" type="definition">ascii_eqb</span></a> <span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">zero</span></a>) <span class="id" type="var">eqn</span>:<span class="id" type="var">IsZero</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">_</span>: <span class="id" type="keyword">match</span> ?<span class="id" type="var">peano</span> <span class="id" type="keyword">with</span> <span class="id" type="var">_</span> =&gt; <span class="id" type="var">_</span> <span class="id" type="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">peano</span> <span class="id" type="var">eqn</span>:<span class="id" type="var">Hpeano</span>; [| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>]<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">Hpeano</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hpeano</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseFileSize"><span class="id" type="definition">parseFileSize</span></a> (<span class="id" type="var">tar</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>): @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 124 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte0</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 125 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte1</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 126 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte2</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 127 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte3</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 128 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte4</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 129 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte5</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 130 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte6</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 131 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte7</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 132 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte8</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 133 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte9</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">@[</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 134 <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">|</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="FileData.html#::x_'@['_x_'|'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">byte10</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Tar.html#fromOctalAscii"><span class="id" type="definition">fromOctalAscii</span></a> (<a class="idref" href="Tar.html#byte0"><span class="id" type="variable">byte0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte1"><span class="id" type="variable">byte1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte2"><span class="id" type="variable">byte2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte3"><span class="id" type="variable">byte3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte4"><span class="id" type="variable">byte4</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte5"><span class="id" type="variable">byte5</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte6"><span class="id" type="variable">byte6</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte7"><span class="id" type="variable">byte7</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte8"><span class="id" type="variable">byte8</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte9"><span class="id" type="variable">byte9</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="Tar.html#byte10"><span class="id" type="variable">byte10</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#error"><span class="id" type="definition">error</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte0"><span class="id" type="variable">byte0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte1"><span class="id" type="variable">byte1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte2"><span class="id" type="variable">byte2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte3"><span class="id" type="variable">byte3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte4"><span class="id" type="variable">byte4</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte5"><span class="id" type="variable">byte5</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte6"><span class="id" type="variable">byte6</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte7"><span class="id" type="variable">byte7</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte8"><span class="id" type="variable">byte8</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte9"><span class="id" type="variable">byte9</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Byte.html#eqb"><span class="id" type="definition">Byte.eqb</span></a> <a class="idref" href="Tar.html#byte10"><span class="id" type="variable">byte10</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.Ascii.html#zero"><span class="id" type="definition">Ascii.zero</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> "Invalid Tar Size"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">size</span> =&gt; <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <span class="id" type="var">size</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)))))))))))</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileSize_subset"><span class="id" type="lemma">parseFileSize_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">tar</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">offset</span> <span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileSize"><span class="id" type="definition">parseFileSize</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileSize"><span class="id" type="definition">parseFileSize</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">tar</span> <span class="id" type="var">offset</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileSize"><span class="id" type="definition">parseFileSize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="DiskSubset.html#disk_subset"><span class="id" type="definition">disk_subset</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="Fetch.html#found_fflatmap_found_twice"><span class="id" type="lemma">found_fflatmap_found_twice</span></a>; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> ?; <span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#fetchByte_subset"><span class="id" type="lemma">fetchByte_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">intro</span>; <span class="id" type="tactic">intro</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileSize_fsubset"><span class="id" type="lemma">parseFileSize_fsubset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">offset</span> <span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">f</span></a><a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileSize"><span class="id" type="definition">parseFileSize</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileSize"><span class="id" type="definition">parseFileSize</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">tar</span> <span class="id" type="var">offset</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileSize"><span class="id" type="definition">parseFileSize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="DiskSubset.html#disk_subset"><span class="id" type="definition">disk_subset</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="Fetch.html#found_fflatmap_found_twice"><span class="id" type="lemma">found_fflatmap_found_twice</span></a>; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> ?; <span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#fetchByte_fsubset"><span class="id" type="lemma">fetchByte_fsubset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">intro</span>; <span class="id" type="tactic">intro</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> (<span class="id" type="var">tar</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) <br/>
&nbsp;&nbsp;(<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) : @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#parseFileName"><span class="id" type="definition">parseFileName</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">_fflatmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">name</span> =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fmap_'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#parseFileSize"><span class="id" type="definition">parseFileSize</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a><a class="idref" href="Fetch.html#::x_'_fmap_'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Fetch.html#::x_'_fmap_'_x"><span class="id" type="notation">_fmap_</span></a> <a class="idref" href="Fetch.html#::x_'_fmap_'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">size</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Tar.html#name"><span class="id" type="variable">name</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Tar.html#size"><span class="id" type="variable">size</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Fetch.html#::x_'_fmap_'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Fetch.html#::x_'_fflatmap_'_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileNameAndSize_subset"><span class="id" type="lemma">parseFileNameAndSize_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">tar</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">tar</span> <span class="id" type="var">offset</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Fetch.html#found_fflatmap_found"><span class="id" type="lemma">found_fflatmap_found</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">fileName</span> [<span class="id" type="var">HfileName</span> <span class="id" type="var">H</span>]].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Fetch.html#found_fmap_found"><span class="id" type="lemma">found_fmap_found</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">size</span> [<span class="id" type="var">Hsize</span> <span class="id" type="var">H</span>]].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileName_subset"><span class="id" type="lemma">parseFileName_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">HfileName</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HfileName</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Fetch.html#fetch_flatmap"><span class="id" type="definition">fetch_flatmap</span></a> <span class="id" type="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileSize_subset"><span class="id" type="lemma">parseFileSize_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">Hsize</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hsize</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Fetch.html#fetch_map"><span class="id" type="definition">fetch_map</span></a> <span class="id" type="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileNameAndSize_fsubset"><span class="id" type="lemma">parseFileNameAndSize_fsubset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">f</span></a><a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">tar</span> <span class="id" type="var">offset</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Fetch.html#found_fflatmap_found"><span class="id" type="lemma">found_fflatmap_found</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">fileName</span> [<span class="id" type="var">HfileName</span> <span class="id" type="var">H</span>]].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Fetch.html#found_fmap_found"><span class="id" type="lemma">found_fmap_found</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">size</span> [<span class="id" type="var">Hsize</span> <span class="id" type="var">H</span>]].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileName_fsubset"><span class="id" type="lemma">parseFileName_fsubset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">HfileName</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HfileName</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Fetch.html#fetch_flatmap"><span class="id" type="definition">fetch_flatmap</span></a> <span class="id" type="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileSize_fsubset"><span class="id" type="lemma">parseFileSize_fsubset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">Hsize</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hsize</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Fetch.html#fetch_map"><span class="id" type="definition">fetch_map</span></a> <span class="id" type="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> (<span class="id" type="var">nextCall</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>))<br/>
&nbsp;&nbsp;(<span class="id" type="var">tar</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) : @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">if</span> (<a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a>.(<a class="idref" href="File.html#fileSize"><span class="id" type="projection">fileSize</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span> <span class="id" type="keyword">match</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> <a class="idref" href="Tar.html#tar"><span class="id" type="variable">tar</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">fileName</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">fileSize</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">nextFileSize</span> := (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> (<span class="id" type="var">fileSize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'mod'_x"><span class="id" type="notation">mod</span></a> 512 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'=?'_x"><span class="id" type="notation">=?</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> <span class="id" type="var">fileSize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 512<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> 512 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">fileSize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'/'_x"><span class="id" type="notation">/</span></a> 512<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">)</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Tar.html#nextCall"><span class="id" type="variable">nextCall</span></a> (<a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Tar.html#nextFileSize"><span class="id" type="variable">nextFileSize</span></a>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <span class="id" type="var">rest</span> =&gt; <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> (<span class="id" type="var">fileName</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">rest</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#MissingAt"><span class="id" type="constructor">MissingAt</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span> =&gt; <a class="idref" href="Fetch.html#ErrorString"><span class="id" type="constructor">ErrorString</span></a> <span class="id" type="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseFileNames"><span class="id" type="definition">parseFileNames</span></a> (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>): @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect"><span class="id" type="definition">N.peano_rect</span></a><br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>)) <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> (<span class="id" type="var">_</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) =&gt; <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>:(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>))) <br/>
&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> (<span class="id" type="var">prev</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">rec</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; @<a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>)) (<span class="id" type="var">offset</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> <a class="idref" href="Tar.html#rec"><span class="id" type="variable">rec</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a>)  <br/>
&nbsp;&nbsp;<a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileSize"><span class="id" type="projection">fileSize</span></a>)<br/>
&nbsp;&nbsp;0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileNames_subset"><span class="id" type="lemma">parseFileNames_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">file</span>. <span class="id" type="var">revert</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_ind"><span class="id" type="definition">N.peano_ind</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := <a class="idref" href="File.html#fileSize"><span class="id" type="projection">fileSize</span></a> <span class="id" type="var">file</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">H</span> <span class="id" type="var">m</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> <span class="id" type="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> <span class="id" type="tactic">at</span> 1 <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="File.html#fileSize"><span class="id" type="projection">fileSize</span></a> <span class="id" type="var">file</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <span class="id" type="var">m</span>) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_fileSize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> <span class="id" type="var">file</span> <span class="id" type="var">m</span> <span class="id" type="var">sub</span>) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_fileNameAndSize</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">fileName</span> <span class="id" type="var">fileSize</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileNameAndSize_subset"><span class="id" type="lemma">parseFileNameAndSize_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H_fileNameAndSize</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H_fileNameAndSize</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">fileSize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'mod'_x"><span class="id" type="notation">mod</span></a> 512 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'=?'_x"><span class="id" type="notation">=?</span></a> 0) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_fsize_mod_512</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">_</span>: <span class="id" type="keyword">match</span> ?<span class="id" type="var">peano</span> <span class="id" type="keyword">with</span> <span class="id" type="var">_</span> =&gt; <span class="id" type="var">_</span> <span class="id" type="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">peano</span> <span class="id" type="var">eqn</span>:<span class="id" type="var">Hpeano</span>; [| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>]<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">Hpeano</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hpeano</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">cbv</span> <span class="id" type="keyword">zeta</span>. <span class="id" type="tactic">cbv</span> <span class="id" type="keyword">zeta</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect"><span class="id" type="definition">N.peano_rect</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> =&gt; <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> (<span class="id" type="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">rec</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a>) (<span class="id" type="var">offset</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> <a class="idref" href="Tar.html#rec"><span class="id" type="variable">rec</span></a> <span class="id" type="var">file</span> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <span class="id" type="var">sub</span>) <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 512 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">fileSize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'/'_x"><span class="id" type="notation">/</span></a> 512<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">)</span></a>)) <span class="id" type="var">eqn</span>:<span class="id" type="var">Hpeano</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">Hpeano</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hpeano</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="parseFileNames_fsubset"><span class="id" type="lemma">parseFileNames_fsubset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">f</span></a><a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="Tar.html#val"><span class="id" type="variable">val</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">disk</span> <span class="id" type="var">val</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">revert</span> <span class="id" type="var">disk</span> <span class="id" type="var">val</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">sub</span> <a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">f</span></a><a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">⊆</span></a> <span class="id" type="var">super</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">subset2</span>; [<span class="id" type="tactic">assumption</span> |].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="FileData.html#file_subset"><span class="id" type="definition">file_subset</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">subset2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">subset2</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">Hid</span> <span class="id" type="var">Heq</span>]. <span class="id" type="tactic">destruct</span> <span class="id" type="var">Heq</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">HfileSize</span> <span class="id" type="var">Heq</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HfileSize</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_ind"><span class="id" type="definition">N.peano_ind</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := <a class="idref" href="File.html#fileSize"><span class="id" type="projection">fileSize</span></a> <span class="id" type="var">super</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">H</span> <span class="id" type="var">m</span> <span class="id" type="var">disk</span> <span class="id" type="var">val</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> <span class="id" type="tactic">at</span> 1 <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HfileSize</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect_succ"><span class="id" type="lemma">N.peano_rect_succ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> <span class="id" type="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="File.html#fileSize"><span class="id" type="projection">fileSize</span></a> <span class="id" type="var">super</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <span class="id" type="var">m</span>) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_fileSize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="Tar.html#parseFileNameAndSize"><span class="id" type="definition">parseFileNameAndSize</span></a> <span class="id" type="var">sub</span> <span class="id" type="var">m</span> <span class="id" type="var">disk</span>) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_fileNameAndSize</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">fileName</span> <span class="id" type="var">fileSize</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileNameAndSize_fsubset"><span class="id" type="lemma">parseFileNameAndSize_fsubset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H_fileNameAndSize</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H_fileNameAndSize</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">fileSize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'mod'_x"><span class="id" type="notation">mod</span></a> 512 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'=?'_x"><span class="id" type="notation">=?</span></a> 0) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_fsize_mod_512</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">_</span>: <span class="id" type="keyword">match</span> ?<span class="id" type="var">peano</span> <span class="id" type="keyword">with</span> <span class="id" type="var">_</span> =&gt; <span class="id" type="var">_</span> <span class="id" type="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">peano</span> <span class="id" type="var">eqn</span>:<span class="id" type="var">Hpeano</span>; [| <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>]<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Hpeano</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hpeano</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">cbv</span> <span class="id" type="keyword">zeta</span>. <span class="id" type="tactic">cbv</span> <span class="id" type="keyword">zeta</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.peano_rect"><span class="id" type="definition">N.peano_rect</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> =&gt; <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> (<span class="id" type="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) (<span class="id" type="var">rec</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="Fetch.html#Fetch"><span class="id" type="inductive">Fetch</span></a>) (<span class="id" type="var">offset</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#recFileNameFrom"><span class="id" type="definition">recFileNameFrom</span></a> <a class="idref" href="Tar.html#rec"><span class="id" type="variable">rec</span></a> <span class="id" type="var">sub</span> <a class="idref" href="Tar.html#offset"><span class="id" type="variable">offset</span></a> <span class="id" type="var">disk</span>) <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 512 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">fileSize</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'/'_x"><span class="id" type="notation">/</span></a> 512<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'*'_x"><span class="id" type="notation">)</span></a>)) <span class="id" type="var">eqn</span>:<span class="id" type="var">Hpeano</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Hpeano</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hpeano</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a> (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <span class="id" type="var">fileNames</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">filename1</span> <span class="id" type="var">filename2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#filename1"><span class="id" type="variable">filename1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="Tar.html#filename2"><span class="id" type="variable">filename2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="Tar.html#filename1"><span class="id" type="variable">filename1</span></a> <span class="id" type="var">fileNames</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="Tar.html#filename2"><span class="id" type="variable">filename2</span></a> <span class="id" type="var">fileNames</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="FileNames.html#systemFile"><span class="id" type="definition">FileNames.systemFile</span></a> <a class="idref" href="Tar.html#filename1"><span class="id" type="variable">filename1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="FileNames.html#systemFile"><span class="id" type="definition">FileNames.systemFile</span></a> <a class="idref" href="Tar.html#filename2"><span class="id" type="variable">filename2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="looksLikeRootkit_compute"><span class="id" type="definition">looksLikeRootkit_compute</span></a> (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">filename1</span> <span class="id" type="var">filename2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Fetch.html#Found"><span class="id" type="constructor">Found</span></a> <span class="id" type="var">fileNames</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#negb"><span class="id" type="definition">negb</span></a> (<a class="idref" href="StringOps.html#string_eqb"><span class="id" type="definition">string_eqb</span></a> <a class="idref" href="Tar.html#filename1"><span class="id" type="variable">filename1</span></a> <a class="idref" href="Tar.html#filename2"><span class="id" type="variable">filename2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#existsb"><span class="id" type="definition">existsb</span></a> (<a class="idref" href="StringOps.html#string_eqb"><span class="id" type="definition">string_eqb</span></a> <a class="idref" href="Tar.html#filename1"><span class="id" type="variable">filename1</span></a>) <span class="id" type="var">fileNames</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#existsb"><span class="id" type="definition">existsb</span></a> (<a class="idref" href="StringOps.html#string_eqb"><span class="id" type="definition">string_eqb</span></a> <a class="idref" href="Tar.html#filename2"><span class="id" type="variable">filename2</span></a>) <span class="id" type="var">fileNames</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="FileNames.html#systemFile_compute"><span class="id" type="definition">FileNames.systemFile_compute</span></a> <a class="idref" href="Tar.html#filename1"><span class="id" type="variable">filename1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="FileNames.html#systemFile_compute"><span class="id" type="definition">FileNames.systemFile_compute</span></a> <a class="idref" href="Tar.html#filename2"><span class="id" type="variable">filename2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="looksLikeRootkit_reflection"><span class="id" type="lemma">looksLikeRootkit_reflection</span></a> (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">filename1</span> <span class="id" type="var">filename2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tar.html#looksLikeRootkit_compute"><span class="id" type="definition">looksLikeRootkit_compute</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="Tar.html#filename1"><span class="id" type="variable">filename1</span></a> <a class="idref" href="Tar.html#filename2"><span class="id" type="variable">filename2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#looksLikeRootkit_compute"><span class="id" type="definition">looksLikeRootkit_compute</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <span class="id" type="var">file</span> <span class="id" type="var">disk</span>); [|<span class="id" type="tactic">discriminate</span> <span class="id" type="var">H</span> | <span class="id" type="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">filename1</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">filename2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">compute</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> &lt;- <a class="idref" href="StringOps.html#string_eqb_reflection"><span class="id" type="lemma">string_eqb_reflection</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#existsb_exists"><span class="id" type="lemma">existsb_exists</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="StringOps.html#string_eqb_reflection"><span class="id" type="lemma">string_eqb_reflection</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#existsb_exists"><span class="id" type="lemma">existsb_exists</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="StringOps.html#string_eqb_reflection"><span class="id" type="lemma">string_eqb_reflection</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="FileNames.html#systemFile_reflection"><span class="id" type="lemma">systemFile_reflection</span></a>. <span class="id" type="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="FileNames.html#systemFile_reflection"><span class="id" type="lemma">systemFile_reflection</span></a>. <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="looksLikeRootkit_subset"><span class="id" type="lemma">looksLikeRootkit_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a> <a class="idref" href="Tar.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">file</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <span class="id" type="var">file</span> <span class="id" type="var">sub</span>) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_parseFileNames</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileNames_subset"><span class="id" type="lemma">parseFileNames_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H_parseFileNames</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H_parseFileNames</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">contradict</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">contradict</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="looksLikeRootkit_fsubset"><span class="id" type="lemma">looksLikeRootkit_fsubset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">f</span></a><a class="idref" href="FileData.html#::x_'f⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a> <a class="idref" href="Tar.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a> <a class="idref" href="Tar.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="Tar.html#disk"><span class="id" type="variable">disk</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">disk</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Tar.html#looksLikeRootkit"><span class="id" type="definition">looksLikeRootkit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="Tar.html#parseFileNames"><span class="id" type="definition">parseFileNames</span></a> <span class="id" type="var">sub</span> <span class="id" type="var">disk</span>) <span class="id" type="var">eqn</span>:<span class="id" type="var">H_parseFileNames</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Tar.html#parseFileNames_fsubset"><span class="id" type="lemma">parseFileNames_fsubset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H_parseFileNames</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H_parseFileNames</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">contradict</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">contradict</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>