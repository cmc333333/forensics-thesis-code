<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Timeline</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Timeline</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.ZArith.ZArith.html#"><span class="id" type="library">Coq.ZArith.ZArith</span></a>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="ByteData.html#"><span class="id" type="library">ByteData</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="DiskSubset.html#"><span class="id" type="library">DiskSubset</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="File.html#"><span class="id" type="library">File</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="FileData.html#"><span class="id" type="library">FileData</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="FileIds.html#"><span class="id" type="library">FileIds</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Util.html#"><span class="id" type="library">Util</span></a>.<br/>

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Local</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">bool</span>.<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Local</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">N</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Event"><span class="id" type="inductive">Event</span></a>: <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="FileAccess"><span class="id" type="constructor">FileAccess</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="FileIds.html#FileId"><span class="id" type="inductive">FileId</span></a> -&gt; <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><br/>
&nbsp;&nbsp;| <a name="FileModification"><span class="id" type="constructor">FileModification</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="FileIds.html#FileId"><span class="id" type="inductive">FileId</span></a> -&gt; <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><br/>
&nbsp;&nbsp;| <a name="FileCreation"><span class="id" type="constructor">FileCreation</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="FileIds.html#FileId"><span class="id" type="inductive">FileId</span></a> -&gt; <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><br/>
&nbsp;&nbsp;| <a name="FileDeletion"><span class="id" type="constructor">FileDeletion</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> -&gt; <a class="idref" href="FileIds.html#FileId"><span class="id" type="inductive">FileId</span></a> -&gt; <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><br/>
.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="eqb"><span class="id" type="definition">eqb</span></a> (<span class="id" type="var">lhs</span> <span class="id" type="var">rhs</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#lhs"><span class="id" type="variable">lhs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Timeline.html#rhs"><span class="id" type="variable">rhs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#FileAccess"><span class="id" type="constructor">FileAccess</span></a> <span class="id" type="var">l</span> <span class="id" type="var">lfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Timeline.html#FileAccess"><span class="id" type="constructor">FileAccess</span></a> <span class="id" type="var">r</span> <span class="id" type="var">rfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (<a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">lfs</span> <span class="id" type="var">rfs</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.eqb"><span class="id" type="definition">N.eqb</span></a> <span class="id" type="var">l</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#FileModification"><span class="id" type="constructor">FileModification</span></a> <span class="id" type="var">l</span> <span class="id" type="var">lfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Timeline.html#FileModification"><span class="id" type="constructor">FileModification</span></a> <span class="id" type="var">r</span> <span class="id" type="var">rfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (<a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">lfs</span> <span class="id" type="var">rfs</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.eqb"><span class="id" type="definition">N.eqb</span></a> <span class="id" type="var">l</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#FileCreation"><span class="id" type="constructor">FileCreation</span></a> <span class="id" type="var">l</span> <span class="id" type="var">lfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Timeline.html#FileCreation"><span class="id" type="constructor">FileCreation</span></a> <span class="id" type="var">r</span> <span class="id" type="var">rfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (<a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">lfs</span> <span class="id" type="var">rfs</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.eqb"><span class="id" type="definition">N.eqb</span></a> <span class="id" type="var">l</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#FileDeletion"><span class="id" type="constructor">FileDeletion</span></a> <span class="id" type="var">l</span> <span class="id" type="var">lfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Timeline.html#FileDeletion"><span class="id" type="constructor">FileDeletion</span></a> <span class="id" type="var">r</span> <span class="id" type="var">rfs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (<a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">lfs</span> <span class="id" type="var">rfs</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#N.eqb"><span class="id" type="definition">N.eqb</span></a> <span class="id" type="var">l</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Timeline"><span class="id" type="definition">Timeline</span></a>: <span class="id" type="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="timestampOf"><span class="id" type="definition">timestampOf</span></a> (<span class="id" type="var">event</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#Exc"><span class="id" type="definition">Exc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Numbers.BinNums.html#N"><span class="id" type="inductive">N</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Timeline.html#event"><span class="id" type="variable">event</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileAccess"><span class="id" type="constructor">FileAccess</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileModification"><span class="id" type="constructor">FileModification</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileCreation"><span class="id" type="constructor">FileCreation</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileDeletion"><span class="id" type="constructor">FileDeletion</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="beforeOrConcurrent"><span class="id" type="definition">beforeOrConcurrent</span></a> (<span class="id" type="var">lhs</span> <span class="id" type="var">rhs</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#timestampOf"><span class="id" type="definition">timestampOf</span></a> <a class="idref" href="Timeline.html#lhs"><span class="id" type="variable">lhs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Timeline.html#timestampOf"><span class="id" type="definition">timestampOf</span></a> <a class="idref" href="Timeline.html#rhs"><span class="id" type="variable">rhs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">lhs_time</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">rhs_time</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> =&gt; <span class="id" type="var">lhs_time</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.NArith.BinNat.html#:N_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <span class="id" type="var">rhs_time</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="foundOn"><span class="id" type="definition">foundOn</span></a> (<span class="id" type="var">event</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Timeline.html#event"><span class="id" type="variable">event</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileAccess"><span class="id" type="constructor">FileAccess</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk"><span class="id" type="definition">isOnDisk</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">fs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastAccess"><span class="id" type="projection">lastAccess</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileModification"><span class="id" type="constructor">FileModification</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk"><span class="id" type="definition">isOnDisk</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">fs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastModification"><span class="id" type="projection">lastModification</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileCreation"><span class="id" type="constructor">FileCreation</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk"><span class="id" type="definition">isOnDisk</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">fs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastCreated"><span class="id" type="projection">lastCreated</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileDeletion"><span class="id" type="constructor">FileDeletion</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk"><span class="id" type="definition">isOnDisk</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">fs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastDeleted"><span class="id" type="projection">lastDeleted</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="foundOn_compute"><span class="id" type="definition">foundOn_compute</span></a> (<span class="id" type="var">event</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Timeline.html#event"><span class="id" type="variable">event</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileAccess"><span class="id" type="constructor">FileAccess</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk_compute"><span class="id" type="definition">isOnDisk_compute</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">fs</span> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="Util.html#optN_eqb"><span class="id" type="definition">optN_eqb</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastAccess"><span class="id" type="projection">lastAccess</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileModification"><span class="id" type="constructor">FileModification</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk_compute"><span class="id" type="definition">isOnDisk_compute</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">fs</span> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="Util.html#optN_eqb"><span class="id" type="definition">optN_eqb</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastModification"><span class="id" type="projection">lastModification</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileCreation"><span class="id" type="constructor">FileCreation</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk_compute"><span class="id" type="definition">isOnDisk_compute</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">fs</span> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="Util.html#optN_eqb"><span class="id" type="definition">optN_eqb</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastCreated"><span class="id" type="projection">lastCreated</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Timeline.html#FileDeletion"><span class="id" type="constructor">FileDeletion</span></a> <span class="id" type="var">timestamp</span> <span class="id" type="var">fs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FileData.html#isOnDisk_compute"><span class="id" type="definition">isOnDisk_compute</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="FileIds.html#eqb"><span class="id" type="definition">FileIds.eqb</span></a> <span class="id" type="var">fs</span> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#fileId"><span class="id" type="projection">fileId</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="Util.html#optN_eqb"><span class="id" type="definition">optN_eqb</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a>.(<a class="idref" href="File.html#lastDeleted"><span class="id" type="projection">lastDeleted</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Specif.html#value"><span class="id" type="definition">value</span></a> <span class="id" type="var">timestamp</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="foundOn_reflection"><span class="id" type="lemma">foundOn_reflection</span></a> (<span class="id" type="var">event</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">file</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Timeline.html#foundOn_compute"><span class="id" type="definition">foundOn_compute</span></a> <a class="idref" href="Timeline.html#event"><span class="id" type="variable">event</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="Timeline.html#file"><span class="id" type="variable">file</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <a class="idref" href="Timeline.html#foundOn"><span class="id" type="definition">foundOn</span></a> <a class="idref" href="Timeline.html#event"><span class="id" type="variable">event</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#foundOn_compute"><span class="id" type="definition">foundOn_compute</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#foundOn"><span class="id" type="definition">foundOn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">event</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">file</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#isOnDisk_reflection"><span class="id" type="lemma">isOnDisk_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileIds.html#eqb_reflection"><span class="id" type="lemma">FileIds.eqb_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <a class="idref" href="Util.html#optN_eqb_reflection"><span class="id" type="lemma">optN_eqb_reflection</span></a>; <span class="id" type="tactic">auto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">file</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#isOnDisk_reflection"><span class="id" type="lemma">isOnDisk_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileIds.html#eqb_reflection"><span class="id" type="lemma">FileIds.eqb_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <a class="idref" href="Util.html#optN_eqb_reflection"><span class="id" type="lemma">optN_eqb_reflection</span></a>; <span class="id" type="tactic">auto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">file</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#isOnDisk_reflection"><span class="id" type="lemma">isOnDisk_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileIds.html#eqb_reflection"><span class="id" type="lemma">FileIds.eqb_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <a class="idref" href="Util.html#optN_eqb_reflection"><span class="id" type="lemma">optN_eqb_reflection</span></a>; <span class="id" type="tactic">auto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">file</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#isOnDisk_reflection"><span class="id" type="lemma">isOnDisk_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileIds.html#eqb_reflection"><span class="id" type="lemma">FileIds.eqb_reflection</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">apply</span> <a class="idref" href="Util.html#optN_eqb_reflection"><span class="id" type="lemma">optN_eqb_reflection</span></a>; <span class="id" type="tactic">auto</span>]].<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="foundOn_subset"><span class="id" type="lemma">foundOn_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">event</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Timeline.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#foundOn"><span class="id" type="definition">foundOn</span></a> <a class="idref" href="Timeline.html#event"><span class="id" type="variable">event</span></a> <a class="idref" href="Timeline.html#sub"><span class="id" type="variable">sub</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#foundOn"><span class="id" type="definition">foundOn</span></a> <a class="idref" href="Timeline.html#event"><span class="id" type="variable">event</span></a> <a class="idref" href="Timeline.html#super"><span class="id" type="variable">super</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">event</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#foundOn"><span class="id" type="definition">foundOn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">event</span>; <span class="id" type="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">file</span> <span class="id" type="var">H</span>]; <span class="id" type="tactic">exists</span> <span class="id" type="var">file</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">split</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="FileData.html#isOnDisk_subset"><span class="id" type="lemma">isOnDisk_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>); <span class="id" type="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">assumption</span>]).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isSoundPair"><span class="id" type="definition">isSoundPair</span></a> (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">eventPair</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">lhsEvent</span>, <span class="id" type="var">rhsEvent</span>) := <a class="idref" href="Timeline.html#eventPair"><span class="id" type="variable">eventPair</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Timeline.html#foundOn"><span class="id" type="definition">foundOn</span></a> <a class="idref" href="Timeline.html#lhsEvent"><span class="id" type="variable">lhsEvent</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Timeline.html#foundOn"><span class="id" type="definition">foundOn</span></a> <a class="idref" href="Timeline.html#rhsEvent"><span class="id" type="variable">rhsEvent</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Timeline.html#beforeOrConcurrent"><span class="id" type="definition">beforeOrConcurrent</span></a> <a class="idref" href="Timeline.html#lhsEvent"><span class="id" type="variable">lhsEvent</span></a> <a class="idref" href="Timeline.html#rhsEvent"><span class="id" type="variable">rhsEvent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isSoundPair_compute"><span class="id" type="definition">isSoundPair_compute</span></a> (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) <br/>
&nbsp;&nbsp;(<span class="id" type="var">pairPair</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)*(</span></a><a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">eventPair</span>, <span class="id" type="var">filePair</span>) := <a class="idref" href="Timeline.html#pairPair"><span class="id" type="variable">pairPair</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">lhsEvent</span>, <span class="id" type="var">rhsEvent</span>) := <a class="idref" href="Timeline.html#eventPair"><span class="id" type="variable">eventPair</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> (<span class="id" type="var">lhsFile</span>, <span class="id" type="var">rhsFile</span>) := <a class="idref" href="Timeline.html#filePair"><span class="id" type="variable">filePair</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Timeline.html#foundOn_compute"><span class="id" type="definition">foundOn_compute</span></a> <a class="idref" href="Timeline.html#lhsEvent"><span class="id" type="variable">lhsEvent</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="Timeline.html#lhsFile"><span class="id" type="variable">lhsFile</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="Timeline.html#foundOn_compute"><span class="id" type="definition">foundOn_compute</span></a> <a class="idref" href="Timeline.html#rhsEvent"><span class="id" type="variable">rhsEvent</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="Timeline.html#rhsFile"><span class="id" type="variable">rhsFile</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="Timeline.html#beforeOrConcurrent"><span class="id" type="definition">beforeOrConcurrent</span></a> <a class="idref" href="Timeline.html#lhsEvent"><span class="id" type="variable">lhsEvent</span></a> <a class="idref" href="Timeline.html#rhsEvent"><span class="id" type="variable">rhsEvent</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="isSoundPair_reflection"><span class="id" type="lemma">isSoundPair_reflection</span></a> (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">eventPair</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>) (<span class="id" type="var">filePair</span>: <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSoundPair_compute"><span class="id" type="definition">isSoundPair_compute</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#eventPair"><span class="id" type="variable">eventPair</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="Timeline.html#filePair"><span class="id" type="variable">filePair</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSoundPair"><span class="id" type="definition">isSoundPair</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="Timeline.html#eventPair"><span class="id" type="variable">eventPair</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">eventPair</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">lhsEvent</span> <span class="id" type="var">rhsEvent</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">filePair</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">lhsFile</span> <span class="id" type="var">rhsFile</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSoundPair_compute"><span class="id" type="definition">isSoundPair_compute</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSoundPair"><span class="id" type="definition">isSoundPair</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#foundOn_reflection"><span class="id" type="lemma">foundOn_reflection</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">file</span> := <span class="id" type="var">lhsFile</span>). <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#foundOn_reflection"><span class="id" type="lemma">foundOn_reflection</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">file</span> := <span class="id" type="var">rhsFile</span>). <span class="id" type="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="isSoundPair_subset"><span class="id" type="lemma">isSoundPair_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">eventPair</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Timeline.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSoundPair"><span class="id" type="definition">isSoundPair</span></a> <a class="idref" href="Timeline.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="Timeline.html#eventPair"><span class="id" type="variable">eventPair</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSoundPair"><span class="id" type="definition">isSoundPair</span></a> <a class="idref" href="Timeline.html#super"><span class="id" type="variable">super</span></a> <a class="idref" href="Timeline.html#eventPair"><span class="id" type="variable">eventPair</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">eventPair</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">eventPair</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">lhs</span> <span class="id" type="var">rhs</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSoundPair"><span class="id" type="definition">isSoundPair</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#foundOn_subset"><span class="id" type="lemma">foundOn_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>). <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#foundOn_subset"><span class="id" type="lemma">foundOn_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>). <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isSound"><span class="id" type="definition">isSound</span></a> (<span class="id" type="var">timeline</span>: <a class="idref" href="Timeline.html#Timeline"><span class="id" type="definition">Timeline</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">staggeredEvents</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#skipn"><span class="id" type="definition">skipn</span></a> 1 <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">pair</span>: <a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="Timeline.html#pair"><span class="id" type="variable">pair</span></a> <a class="idref" href="Timeline.html#staggeredEvents"><span class="id" type="variable">staggeredEvents</span></a> -&gt; <a class="idref" href="Timeline.html#isSoundPair"><span class="id" type="definition">isSoundPair</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="Timeline.html#pair"><span class="id" type="variable">pair</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="isSound_subset"><span class="id" type="lemma">isSound_subset</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">sub</span> <span class="id" type="var">super</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) (<span class="id" type="var">timeline</span>: <a class="idref" href="Timeline.html#Timeline"><span class="id" type="definition">Timeline</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#sub"><span class="id" type="variable">sub</span></a> <a class="idref" href="DiskSubset.html#::x_'⊆'_x"><span class="id" type="notation">⊆</span></a> <a class="idref" href="Timeline.html#super"><span class="id" type="variable">super</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSound"><span class="id" type="definition">isSound</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> <a class="idref" href="Timeline.html#sub"><span class="id" type="variable">sub</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSound"><span class="id" type="definition">isSound</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> <a class="idref" href="Timeline.html#super"><span class="id" type="variable">super</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">sub</span> <span class="id" type="var">super</span> <span class="id" type="var">timeline</span> <span class="id" type="var">subset</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSound"><span class="id" type="definition">isSound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span> <span class="id" type="var">pair</span> <span class="id" type="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#isSoundPair_subset"><span class="id" type="lemma">isSoundPair_subset</span></a> <span class="id" type="keyword">with</span> (1:=<span class="id" type="var">subset</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isSound_tmp"><span class="id" type="definition">isSound_tmp</span></a> (<span class="id" type="var">timeline</span>: <a class="idref" href="Timeline.html#Timeline"><span class="id" type="definition">Timeline</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">(</span></a><span class="id" type="var">files</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">staggeredEvents</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#skipn"><span class="id" type="definition">skipn</span></a> 1 <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">staggeredFiles</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#files"><span class="id" type="variable">files</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#skipn"><span class="id" type="definition">skipn</span></a> 1 <a class="idref" href="Timeline.html#files"><span class="id" type="variable">files</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">combined</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#staggeredEvents"><span class="id" type="variable">staggeredEvents</span></a> <a class="idref" href="Timeline.html#staggeredFiles"><span class="id" type="variable">staggeredFiles</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="Timeline.html#staggeredEvents"><span class="id" type="variable">staggeredEvents</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="Timeline.html#staggeredFiles"><span class="id" type="variable">staggeredFiles</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="keyword">forall</span> (<span class="id" type="var">pairPair</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Timeline.html#Event"><span class="id" type="inductive">Event</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)*(</span></a><a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="File.html#File"><span class="id" type="record">File</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="Timeline.html#pairPair"><span class="id" type="variable">pairPair</span></a> <a class="idref" href="Timeline.html#combined"><span class="id" type="variable">combined</span></a> -&gt; <a class="idref" href="Timeline.html#isSoundPair"><span class="id" type="definition">isSoundPair</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> <a class="idref" href="Timeline.html#pairPair"><span class="id" type="variable">pairPair</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="strip_list_l"><span class="id" type="lemma">strip_list_l</span></a> {<span class="id" type="var">L</span> <span class="id" type="var">R</span>: <span class="id" type="keyword">Type</span>} (<span class="id" type="var">lhs</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="Timeline.html#L"><span class="id" type="variable">L</span></a>) (<span class="id" type="var">rhs</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="Timeline.html#R"><span class="id" type="variable">R</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">prop</span>:<a class="idref" href="Timeline.html#L"><span class="id" type="variable">L</span></a>-&gt;<span class="id" type="keyword">Prop</span>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="Timeline.html#lhs"><span class="id" type="variable">lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="Timeline.html#rhs"><span class="id" type="variable">rhs</span></a><br/>
&nbsp;&nbsp;-&gt; (<span class="id" type="keyword">forall</span> (<span class="id" type="var">pair</span>: <a class="idref" href="Timeline.html#L"><span class="id" type="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="Timeline.html#R"><span class="id" type="variable">R</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="Timeline.html#pair"><span class="id" type="variable">pair</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#lhs"><span class="id" type="variable">lhs</span></a> <a class="idref" href="Timeline.html#rhs"><span class="id" type="variable">rhs</span></a>) -&gt; <a class="idref" href="Timeline.html#prop"><span class="id" type="variable">prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> <a class="idref" href="Timeline.html#pair"><span class="id" type="variable">pair</span></a>))<br/>
&nbsp;&nbsp;-&gt; (<span class="id" type="keyword">forall</span> (<span class="id" type="var">l</span>: <a class="idref" href="Timeline.html#L"><span class="id" type="variable">L</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">In</span></a> <a class="idref" href="Timeline.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="Timeline.html#lhs"><span class="id" type="variable">lhs</span></a> -&gt; <a class="idref" href="Timeline.html#prop"><span class="id" type="variable">prop</span></a> <a class="idref" href="Timeline.html#l"><span class="id" type="variable">l</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="var">rhs</span> <span class="id" type="var">prop</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">rhs</span> <span class="id" type="var">prop</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">lhs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">rhs</span>; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">contradict</span> <span class="id" type="var">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">rhs</span>; [ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">H0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHlhs</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">rhs</span> := <span class="id" type="var">rhs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">pair</span> <span class="id" type="var">inn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">In</span></a> <span class="id" type="var">pair</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> (<span class="id" type="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">lhs</span>) (<span class="id" type="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">rhs</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#in_cons"><span class="id" type="lemma">in_cons</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="isSound_tmp_impl"><span class="id" type="lemma">isSound_tmp_impl</span></a> (<span class="id" type="var">timeline</span>: <a class="idref" href="Timeline.html#Timeline"><span class="id" type="definition">Timeline</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSound_tmp"><span class="id" type="definition">isSound_tmp</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> -&gt; <a class="idref" href="Timeline.html#isSound"><span class="id" type="definition">isSound</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSound_tmp"><span class="id" type="definition">isSound_tmp</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">files</span>]. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSound"><span class="id" type="definition">isSound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <span class="id" type="var">timeline</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#skipn"><span class="id" type="definition">skipn</span></a> 1 <span class="id" type="var">timeline</span>)) <span class="id" type="keyword">as</span> <span class="id" type="var">staggeredEvents</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <span class="id" type="var">files</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#skipn"><span class="id" type="definition">skipn</span></a> 1 <span class="id" type="var">files</span>)) <span class="id" type="keyword">as</span> <span class="id" type="var">staggeredFiles</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#strip_list_l"><span class="id" type="lemma">strip_list_l</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">rhs</span> := <span class="id" type="var">staggeredFiles</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isSound_compute"><span class="id" type="definition">isSound_compute</span></a> (<span class="id" type="var">timeline</span>: <a class="idref" href="Timeline.html#Timeline"><span class="id" type="definition">Timeline</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>) <br/>
&nbsp;&nbsp;(<span class="id" type="var">files</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">staggeredEvents</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#skipn"><span class="id" type="definition">skipn</span></a> 1 <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">staggeredFiles</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#files"><span class="id" type="variable">files</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#skipn"><span class="id" type="definition">skipn</span></a> 1 <a class="idref" href="Timeline.html#files"><span class="id" type="variable">files</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">combined</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#combine"><span class="id" type="definition">combine</span></a> <a class="idref" href="Timeline.html#staggeredEvents"><span class="id" type="variable">staggeredEvents</span></a> <a class="idref" href="Timeline.html#staggeredFiles"><span class="id" type="variable">staggeredFiles</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="Timeline.html#staggeredEvents"><span class="id" type="variable">staggeredEvents</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="Timeline.html#staggeredFiles"><span class="id" type="variable">staggeredFiles</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#forallb"><span class="id" type="definition">forallb</span></a> (<a class="idref" href="Timeline.html#isSoundPair_compute"><span class="id" type="definition">isSoundPair_compute</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a>) <a class="idref" href="Timeline.html#combined"><span class="id" type="variable">combined</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="isSound_reflection"><span class="id" type="lemma">isSound_reflection</span></a> (<span class="id" type="var">timeline</span>: <a class="idref" href="Timeline.html#Timeline"><span class="id" type="definition">Timeline</span></a>) (<span class="id" type="var">disk</span>: <a class="idref" href="ByteData.html#Disk"><span class="id" type="definition">Disk</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">files</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="File.html#File"><span class="id" type="record">File</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSound_compute"><span class="id" type="definition">isSound_compute</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a> <a class="idref" href="Timeline.html#files"><span class="id" type="variable">files</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Timeline.html#isSound"><span class="id" type="definition">isSound</span></a> <a class="idref" href="Timeline.html#timeline"><span class="id" type="variable">timeline</span></a> <a class="idref" href="Timeline.html#disk"><span class="id" type="variable">disk</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#isSound_tmp_impl"><span class="id" type="lemma">isSound_tmp_impl</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSound_tmp"><span class="id" type="definition">isSound_tmp</span></a>. <span class="id" type="tactic">exists</span> <span class="id" type="var">files</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Timeline.html#isSound_compute"><span class="id" type="definition">isSound_compute</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">Bool.andb_true_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Arith.EqNat.html#beq_nat_eq"><span class="id" type="definition">beq_nat_eq</span></a>. <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Lists.List.html#forallb_forall"><span class="id" type="lemma">forallb_forall</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Timeline.html#isSoundPair_reflection"><span class="id" type="lemma">isSoundPair_reflection</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">filePair</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">pairPair</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> <span class="id" type="var">pairPair</span> <a class="idref" href="ByteData.html#::x_'|->'_x"><span class="id" type="notation">|-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">pairPair</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl2/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">pairPair</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">pairPair</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>